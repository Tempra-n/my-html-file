<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿ƒç†å­¦3Dä¸–ç•Œ - ãƒ–ãƒ©ã‚¦ã‚¶å®‰å…¨ç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }
        
        .header h1 {
            font-size: 3em;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: glow 2s infinite alternate;
        }
        
        @keyframes glow {
            from { filter: brightness(1); }
            to { filter: brightness(1.2); }
        }
        
        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .world-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .world-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .world-card:hover {
            transform: translateY(-10px);
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }
        
        .world-card.active {
            background: rgba(76, 175, 80, 0.3);
            border-color: #4caf50;
            box-shadow: 0 0 20px rgba(76, 175, 80, 0.4);
        }
        
        .world-icon {
            font-size: 4em;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .world-title {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 10px;
            color: #4ecdc4;
            text-align: center;
        }
        
        .world-description {
            font-size: 0.9em;
            line-height: 1.5;
            opacity: 0.8;
            text-align: center;
        }
        
        .details-section {
            background: rgba(0, 0, 0, 0.3);
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
            display: none;
        }
        
        .details-section.show {
            display: block;
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .details-title {
            font-size: 2em;
            margin-bottom: 20px;
            color: #4ecdc4;
            text-align: center;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #4ecdc4;
        }
        
        .feature-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        .feature-title {
            font-weight: bold;
            margin-bottom: 8px;
            color: #ffd700;
        }
        
        .feature-description {
            font-size: 0.85em;
            opacity: 0.8;
            line-height: 1.4;
        }
        
        .interaction-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }
        
        .action-button {
            background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }
        
        .action-button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(76, 205, 196, 0.3);
        }
        
        .action-button.special {
            background: linear-gradient(135deg, #ff6b6b 0%, #ffa500 100%);
        }
        
        .demo-area {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        
        .demo-content {
            font-size: 1.1em;
            line-height: 1.6;
        }
        
        .code-preview {
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-radius: 10px;
            font-family: monospace;
            font-size: 0.8em;
            margin: 15px 0;
            border-left: 4px solid #4ecdc4;
            text-align: left;
            overflow-x: auto;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
            border-left: 4px solid #4ecdc4;
        }
        
        .notification.show {
            opacity: 1;
        }
        
        .stats-panel {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }
        
        .stat-item {
            text-align: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
        }
        
        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #4ecdc4;
            display: block;
        }
        
        .stat-label {
            font-size: 0.8em;
            opacity: 0.8;
            margin-top: 5px;
        }
        
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: rgba(76, 175, 80, 0.6);
            border-radius: 50%;
            animation: float-particle 8s infinite linear;
        }
        
        @keyframes float-particle {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-50px) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    
    <div class="container">
        <div class="header">
            <h1>ğŸ§  å¿ƒç†å­¦3Dä¸–ç•Œ</h1>
            <p class="subtitle">æŠ½è±¡çš„ãªæ¦‚å¿µã‚’ã€Œè¦‹ãˆã‚‹ã€ã€Œè§¦ã‚Œã‚‹ã€ã‚‚ã®ã«å¤‰ãˆã‚‹é©æ–°çš„å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ </p>
        </div>
        
        <div class="world-grid">
            <div class="world-card" onclick="selectWorld('learning')">
                <div class="world-icon">ğŸ§ </div>
                <div class="world-title">è¨˜æ†¶å®®æ®¿ãƒ¯ãƒ¼ãƒ«ãƒ‰</div>
                <div class="world-description">
                    ã‚ãªãŸã®éƒ¨å±‹ã‚’3Dè¨˜æ†¶ç©ºé–“ã«å¤‰æ›ã€‚å­¦ç¿’åŠ¹ç‡ã‚’3å€å‘ä¸Šã•ã›ã‚‹å¤ä»£ã‚®ãƒªã‚·ãƒ£ã®è¨˜æ†¶è¡“ã‚’ç¾ä»£æŠ€è¡“ã§å®Ÿç¾ã€‚
                </div>
            </div>
            
            <div class="world-card" onclick="selectWorld('clinical')">
                <div class="world-icon">ğŸ¥</div>
                <div class="world-title">æ²»ç™‚åœ°å½¢ãƒ¯ãƒ¼ãƒ«ãƒ‰</div>
                <div class="world-description">
                    ã†ã¤ç—…ã®è°·ã€ä¸å®‰ã®å±±ã€PTSD ã®åµã‚’3Dåœ°å½¢ã¨ã—ã¦è¡¨ç¾ã€‚æ²»ç™‚é€²æ—ãŒç¾ã—ã„åœ°å½¢å¤‰åŒ–ã¨ã—ã¦å¯è¦–åŒ–ã€‚
                </div>
            </div>
            
            <div class="world-card" onclick="selectWorld('developmental')">
                <div class="world-icon">ğŸ‘¶</div>
                <div class="world-title">æ™‚ç©ºé–“ãƒãƒƒãƒ—ãƒ¯ãƒ¼ãƒ«ãƒ‰</div>
                <div class="world-description">
                    èƒå…æœŸã‹ã‚‰è€å¹´æœŸã¾ã§ã€äººç”Ÿã®ç™ºé”è»Œé“ã‚’4æ¬¡å…ƒï¼ˆ3D+æ™‚é–“ï¼‰ã§è¿½è·¡ã€‚å€‹äººã®æˆé•·ãŒå®‡å®™ã®è»Œé“ã¨ã—ã¦è¡¨ç¾ã€‚
                </div>
            </div>
            
            <div class="world-card" onclick="selectWorld('social')">
                <div class="world-icon">ğŸ‘¥</div>
                <div class="world-title">é›†å›£åŠ›å­¦ãƒ¯ãƒ¼ãƒ«ãƒ‰</div>
                <div class="world-description">
                    äººé–“é–¢ä¿‚ã‚’ç‰©ç†æ³•å‰‡ã¨ã—ã¦è¡¨ç¾ã€‚å‹æƒ…ã¯å¼•åŠ›ã€å¯¾ç«‹ã¯æ–¥åŠ›ã€ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã¯é‡åŠ›å ´ã¨ã—ã¦3DåŒ–ã€‚
                </div>
            </div>
            
            <div class="world-card" onclick="selectWorld('cognitive')">
                <div class="world-icon">âš¡</div>
                <div class="world-title">æ€è€ƒãƒ•ãƒ­ãƒ¼ãƒ¯ãƒ¼ãƒ«ãƒ‰</div>
                <div class="world-description">
                    èªçŸ¥ãƒ—ãƒ­ã‚»ã‚¹ã‚’å…‰ã®å·ã¨ã—ã¦å¯è¦–åŒ–ã€‚æƒ…å ±å‡¦ç†ã€æ„æ€æ±ºå®šã€èªçŸ¥ãƒã‚¤ã‚¢ã‚¹ãŒç¾ã—ã„ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã«ã€‚
                </div>
            </div>
        </div>
        
        <div class="details-section" id="detailsSection">
            <div class="details-title" id="detailsTitle">ãƒ¯ãƒ¼ãƒ«ãƒ‰ã‚’é¸æŠã—ã¦ãã ã•ã„</div>
            <div id="detailsContent">
                <!-- å‹•çš„ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒæŒ¿å…¥ã•ã‚Œã‚‹ -->
            </div>
        </div>
        
        <div class="stats-panel">
            <div class="stat-item">
                <span class="stat-value" id="activeWorlds">5</span>
                <span class="stat-label">åˆ©ç”¨å¯èƒ½ãƒ¯ãƒ¼ãƒ«ãƒ‰</span>
            </div>
            <div class="stat-item">
                <span class="stat-value" id="learningEfficiency">340%</span>
                <span class="stat-label">å­¦ç¿’åŠ¹ç‡å‘ä¸Š</span>
            </div>
            <div class="stat-item">
                <span class="stat-value" id="comprehension">95%</span>
                <span class="stat-label">ç†è§£åº¦</span>
            </div>
            <div class="stat-item">
                <span class="stat-value" id="engagement">MAX</span>
                <span class="stat-label">æ²¡å…¥ãƒ¬ãƒ™ãƒ«</span>
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification"></div>
    
    <script>
        // ãƒ¯ãƒ¼ãƒ«ãƒ‰ãƒ‡ãƒ¼ã‚¿
        const worlds = {
            learning: {
                title: 'ğŸ§  è¨˜æ†¶å®®æ®¿ãƒ¯ãƒ¼ãƒ«ãƒ‰',
                description: 'å­¦ç¿’åŠ¹ç‡ã‚’é©å‘½çš„ã«å‘ä¸Šã•ã›ã‚‹3Dè¨˜æ†¶ç©ºé–“ã‚·ã‚¹ãƒ†ãƒ ',
                features: [
                    {
                        icon: 'ğŸ›ï¸',
                        title: 'å€‹äººç”¨è¨˜æ†¶å®®æ®¿',
                        description: 'ã‚ãªãŸã®å®Ÿéš›ã®éƒ¨å±‹ã‚„æ€ã„å‡ºã®å ´æ‰€ã‚’3DåŒ–ã€‚å„éƒ¨å±‹ã«å­¦ç¿’å†…å®¹ã‚’é…ç½®ã—ã€ç©ºé–“è¨˜æ†¶ã‚’æ´»ç”¨'
                    },
                    {
                        icon: 'ğŸ“Š',
                        title: 'ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŠ¹ç‡æ¸¬å®š',
                        description: 'è¦–ç·šè¿½è·¡ã€è„³æ³¢ã€å­¦ç¿’æ™‚é–“ã‚’åˆ†æã€‚AIãŒæœ€é©ãªè¨˜æ†¶ãƒ«ãƒ¼ãƒˆã‚’ææ¡ˆ'
                    },
                    {
                        icon: 'ğŸ®',
                        title: 'å­¦ç¿’ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³',
                        description: 'è¨˜æ†¶ã‚¯ã‚¨ã‚¹ãƒˆã€çŸ¥è­˜ãƒãƒˆãƒ«ã€ãƒãƒ¼ãƒ å®®æ®¿å»ºç¯‰ã§æ¥½ã—ãå­¦ç¿’'
                    },
                    {
                        icon: 'ğŸ”¬',
                        title: 'å¿˜å´æ›²ç·š3DåŒ–',
                        description: 'ã‚¨ãƒ“ãƒ³ã‚°ãƒã‚¦ã‚¹ã®å¿˜å´æ›²ç·šã‚’åœ°å½¢ã¨ã—ã¦è¡¨ç¾ã€‚å¾©ç¿’ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãŒç›´æ„Ÿçš„ã«ç†è§£'
                    }
                ],
                code: `// è¨˜æ†¶å®®æ®¿ã®3Dæ§‹ç¯‰ã‚·ã‚¹ãƒ†ãƒ 
const memoryPalace = new MemoryPalace3D();

// ã‚ãªãŸã®éƒ¨å±‹ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦3DåŒ–
const roomData = await scanUserRoom();
palace.buildFromRealSpace(roomData);

// å­¦ç¿’å†…å®¹ã‚’ç©ºé–“ã«é…ç½®
palace.addMemoryRoom("å¿ƒç†å­¦ç†è«–", {
    location: "ãƒªãƒ“ãƒ³ã‚°",
    items: ["ãƒ•ãƒ­ã‚¤ãƒˆ", "ãƒ¦ãƒ³ã‚°", "ãƒ”ã‚¢ã‚¸ã‚§"],
    associations: createVisualAssociations()
});

// å­¦ç¿’åŠ¹ç‡ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¸¬å®š
const efficiency = palace.measureLearningEfficiency();
console.log('è¨˜æ†¶å®šç€ç‡:', efficiency + '% å‘ä¸Š');`
            },
            clinical: {
                title: 'ğŸ¥ æ²»ç™‚åœ°å½¢ãƒ¯ãƒ¼ãƒ«ãƒ‰',
                description: 'å¿ƒã®çŠ¶æ…‹ã‚’ç¾ã—ã„3Dåœ°å½¢ã¨ã—ã¦å¯è¦–åŒ–ã™ã‚‹é©æ–°çš„æ²»ç™‚æ”¯æ´ã‚·ã‚¹ãƒ†ãƒ ',
                features: [
                    {
                        icon: 'ğŸŒ„',
                        title: 'ã†ã¤ç—…åœ°å½¢ã‚·ã‚¹ãƒ†ãƒ ',
                        description: 'ã†ã¤ç—‡çŠ¶ã®æ·±ã•ã‚’è°·ã®æ·±ã•ã§è¡¨ç¾ã€‚æ²»ç™‚ã«ã‚ˆã‚Šè°·ãŒæµ…ããªã‚Šå¹³åŸã¸å¤‰åŒ–'
                    },
                    {
                        icon: 'â›°ï¸',
                        title: 'ä¸å®‰å±±å²³ãƒãƒƒãƒ—',
                        description: 'ä¸å®‰ãƒ¬ãƒ™ãƒ«ã‚’é™ºã—ã„å±±ã¨ã—ã¦å¯è¦–åŒ–ã€‚æ²»ç™‚ã«ã‚ˆã‚Šç·©ã‚„ã‹ãªä¸˜ã¸å¤‰åŒ–'
                    },
                    {
                        icon: 'ğŸŒŠ',
                        title: 'PTSDæ´¥æ³¢ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³',
                        description: 'ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãƒãƒƒã‚¯ã‚’æ´¥æ³¢ã¨ã—ã¦è¡¨ç¾ã€‚æ²»ç™‚ã§æ³¢ãŒç©ã‚„ã‹ã«ãªã‚‹éç¨‹ã‚’ä½“é¨“'
                    },
                    {
                        icon: 'ğŸ—ï¸',
                        title: 'ãƒ¬ã‚¸ãƒªã‚¨ãƒ³ã‚¹å»ºç¯‰',
                        description: 'å¿ƒã®å›å¾©åŠ›ã‚’å»ºç¯‰ç‰©ã¨ã—ã¦æ§‹ç¯‰ã€‚æ²»ç™‚ã«ã‚ˆã‚Šå¼·å›ºãªå»ºç‰©ãŒå»ºè¨­'
                    }
                ],
                code: `// ã†ã¤ç—…åœ°å½¢ã®å‹•çš„ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ 
const depressionTerrain = new ClinicalTerrain3D();

// ç—‡çŠ¶ã‚¹ã‚³ã‚¢ã‹ã‚‰åœ°å½¢ã‚’ç”Ÿæˆ
const phq9Score = patient.getCurrentPHQ9();
terrain.generateDepression(phq9Score, {
    depth: phq9Score * 10,
    width: phq9Score * 5,
    color: 'hsl(' + (240 - phq9Score * 10) + ', 70%, 30%)'
});

// æ²»ç™‚é€²æ—ã«ã‚ˆã‚‹åœ°å½¢å¤‰åŒ–
patient.onTreatmentProgress((progress) => {
    terrain.smoothTerrain(progress.improvementRate);
    if (progress.recoveryMilestone) {
        terrain.addHopeBeacon(progress.location);
    }
});`
            },
            developmental: {
                title: 'ğŸ‘¶ æ™‚ç©ºé–“ãƒãƒƒãƒ—ãƒ¯ãƒ¼ãƒ«ãƒ‰',
                description: 'äººé–“ã®ç”Ÿæ¶¯ç™ºé”ã‚’4æ¬¡å…ƒç©ºé–“ã§è¿½è·¡ã™ã‚‹é©æ–°çš„ç™ºé”ç ”ç©¶ã‚·ã‚¹ãƒ†ãƒ ',
                features: [
                    {
                        icon: 'â°',
                        title: '4æ¬¡å…ƒç™ºé”è»Œé“',
                        description: 'å„å€‹äººã®ç™ºé”ãŒç¾ã—ã„è»Œé“ã¨ã—ã¦æ™‚ç©ºé–“ã«æã‹ã‚Œã€ç™ºé”ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒä¸€ç›®ã§ç†è§£'
                    },
                    {
                        icon: 'ğŸ§¬',
                        title: 'éºä¼-ç’°å¢ƒç›¸äº’ä½œç”¨',
                        description: 'éºä¼çš„è¦å› ã¨ç’°å¢ƒè¦å› ã‚’ç•°ãªã‚‹è‰²ã®è»Œé“ã§è¡¨ç¾ã€‚ç›¸äº’ä½œç”¨ãŒå‹•çš„ã«å¤‰åŒ–'
                    },
                    {
                        icon: 'ğŸ¯',
                        title: 'ç™ºé”æ®µéšå¢ƒç•Œé¢',
                        description: 'ãƒ”ã‚¢ã‚¸ã‚§ã€ã‚¨ãƒªã‚¯ã‚½ãƒ³ã®ç™ºé”æ®µéšã‚’3Då¢ƒç•Œé¢ã¨ã—ã¦è¡¨ç¾'
                    },
                    {
                        icon: 'ğŸ”®',
                        title: 'ç™ºé”äºˆæ¸¬AI',
                        description: 'æ©Ÿæ¢°å­¦ç¿’ã«ã‚ˆã‚Šå°†æ¥ã®ç™ºé”è»Œé“ã‚’äºˆæ¸¬ã€‚ãƒªã‚¹ã‚¯è¦å› ã‚‚å¯è¦–åŒ–'
                    }
                ],
                code: `// 4æ¬¡å…ƒç™ºé”ç©ºé–“ã®æ§‹ç¯‰
const developmentalSpace = new FourDimensionalSpace();

// æ™‚é–“è»¸è¨­å®šï¼ˆ0-100æ­³ï¼‰
space.setTimeAxis(0, 100, "years");

// ç™ºé”é ˜åŸŸã®3è»¸è¨­å®š
space.setDevelopmentalAxes({
    cognitive: { axis: "x", color: "blue" },
    social: { axis: "y", color: "green" },
    emotional: { axis: "z", color: "red" }
});

// å€‹äººã®ç™ºé”è»Œé“ã‚’ãƒ—ãƒ­ãƒƒãƒˆ
const trajectory = new DevelopmentalTrajectory();
lifeEvents.forEach((event, age) => {
    trajectory.addPoint({
        age: age,
        cognitive: assessCognitive(event),
        social: assessSocial(event),
        emotional: assessEmotional(event)
    });
});

space.plotTrajectory(trajectory);`
            },
            social: {
                title: 'ğŸ‘¥ é›†å›£åŠ›å­¦ãƒ¯ãƒ¼ãƒ«ãƒ‰',
                description: 'äººé–“é–¢ä¿‚ã¨é›†å›£è¡Œå‹•ã‚’ç‰©ç†ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦3DåŒ–',
                features: [
                    {
                        icon: 'ğŸŒ',
                        title: 'ç¤¾ä¼šãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç‰©ç†å­¦',
                        description: 'äººé–“é–¢ä¿‚ã‚’é‡åŠ›ã€é›»ç£æ°—åŠ›ã¨ã—ã¦è¡¨ç¾ã€‚å‹æƒ…ã¯å¼•åŠ›ã€å¯¾ç«‹ã¯æ–¥åŠ›'
                    },
                    {
                        icon: 'ğŸ‘‘',
                        title: 'ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—å ´ç†è«–',
                        description: 'ãƒªãƒ¼ãƒ€ãƒ¼ã®å½±éŸ¿åŠ›ã‚’ç£å ´ã¨ã—ã¦å¯è¦–åŒ–ã€‚ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼è¡Œå‹•ãŒç£åŠ›ç·šã§è¡¨ç¾'
                    },
                    {
                        icon: 'ğŸŒŠ',
                        title: 'åŒèª¿åœ§åŠ›ã®æ³¢å‹•',
                        description: 'é›†å›£å†…åŒèª¿ç¾è±¡ã‚’æ³¢å‹•ã¨ã—ã¦è¡¨ç¾ã€‚æ„è¦‹å¤‰åŒ–ãŒæ³¢ã®ä¼æ’­ã¨ã—ã¦ç§»å‹•'
                    },
                    {
                        icon: 'âš¡',
                        title: 'åè¦‹ã®é›»æ°—å›è·¯',
                        description: 'ã‚¹ãƒ†ãƒ¬ã‚ªã‚¿ã‚¤ãƒ—ã‚’é›»æ°—å›è·¯ã¨ã—ã¦è¡¨ç¾ã€‚å›è·¯å¤‰æ›´ã§åè¦‹ã‚’æ¸›å°‘'
                    }
                ],
                code: `// ç¤¾ä¼šé›†å›£ã®ç‰©ç†ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
const socialPhysics = new SocialPhysicsEngine();

// å€‹äººã‚’ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã¨ã—ã¦å®šç¾©
const groupMembers = [
    new SocialParticle("Leader", { influence: 100 }),
    new SocialParticle("Follower1", { conformity: 80 }),
    new SocialParticle("Rebel", { conformity: 20 })
];

// ç¤¾ä¼šåŠ›ã®å®šç¾©
socialPhysics.addForce("friendship", (p1, p2) => {
    return attractiveForce(p1.compatibility(p2));
});

socialPhysics.addForce("status_hierarchy", (leader, follower) => {
    return gravitationalForce(leader.status, follower.position);
});

// ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
socialPhysics.simulate(groupMembers, {
    duration: "6_months",
    events: ["conflict", "cooperation", "leadership_change"]
});`
            },
            cognitive: {
                title: 'âš¡ æ€è€ƒãƒ•ãƒ­ãƒ¼ãƒ¯ãƒ¼ãƒ«ãƒ‰',
                description: 'æ€è€ƒãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¾ã—ã„ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã¨ã—ã¦3DåŒ–',
                features: [
                    {
                        icon: 'ğŸŒŠ',
                        title: 'æƒ…å ±å‡¦ç†ã®å·',
                        description: 'æ„Ÿè¦šå…¥åŠ›ã‹ã‚‰è¨˜æ†¶ä¿å­˜ã¾ã§ã€æƒ…å ±å‡¦ç†ã®æµã‚Œã‚’å…‰ã‚‹å·ã¨ã—ã¦è¡¨ç¾'
                    },
                    {
                        icon: 'ğŸ§©',
                        title: 'èªçŸ¥ãƒã‚¤ã‚¢ã‚¹ã®æ­ªã¿',
                        description: 'ç¢ºè¨¼ãƒã‚¤ã‚¢ã‚¹ç­‰ãŒæ€è€ƒã®å·ã‚’æ­ªã‚ã‚‹éšœå®³ç‰©ã¨ã—ã¦å¯è¦–åŒ–'
                    },
                    {
                        icon: 'ğŸ§ ',
                        title: 'ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆ3D',
                        description: 'AIã¨äººé–“ã®èªçŸ¥ã‚’ä¸¦è¡Œè¡¨ç¤ºã€‚é¡ä¼¼ç‚¹ãƒ»ç›¸é•ç‚¹ã‚’ç›´æ„Ÿçš„ã«æ¯”è¼ƒ'
                    },
                    {
                        icon: 'ğŸ—ï¸',
                        title: 'ãƒ¡ã‚¿èªçŸ¥ã‚¿ãƒ¯ãƒ¼',
                        description: 'ã€Œè€ƒãˆã‚‹ã“ã¨ã«ã¤ã„ã¦è€ƒãˆã‚‹ã€ã‚’é«˜å±¤ã‚¿ãƒ¯ãƒ¼ã§è¡¨ç¾ã€‚ä¿¯ç°ã§æ€è€ƒã‚’å®¢è¦³è¦–'
                    }
                ],
                code: `// èªçŸ¥ãƒ—ãƒ­ã‚»ã‚¹ã®3Dãƒ•ãƒ­ãƒ¼
const cognitiveFlow = new CognitiveProcess3D();

// æƒ…å ±å‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰
const pipeline = cognitiveFlow.createPipeline([
    new SensoryInput({ modalities: ["visual", "auditory"] }),
    new AttentionFilter({ selectivity: 0.1 }),
    new WorkingMemory({ capacity: 7, duration: 30 }),
    new LongTermMemory({ encoding: "semantic" })
]);

// èªçŸ¥ãƒã‚¤ã‚¢ã‚¹ã®å¹²æ¸‰
const biases = [
    new ConfirmationBias({ strength: 0.7 }),
    new AvailabilityHeuristic({ recency_weight: 0.8 })
];

biases.forEach(bias => pipeline.addInterference(bias));

// ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€è€ƒå¯è¦–åŒ–
const session = cognitiveFlow.startSession();
session.onThought((thought) => {
    render3DThought({
        concept: thought.content,
        associations: thought.getAssociations(),
        confidence: thought.certaintyLevel
    });
});`
            }
        };
        
        let currentWorld = null;
        let demoRunning = false;
        
        // åˆæœŸåŒ–
        function init() {
            createParticles();
            showNotification('ğŸŒŒ å¿ƒç†å­¦3Dä¸–ç•Œã¸ã‚ˆã†ã“ãï¼ãƒ¯ãƒ¼ãƒ«ãƒ‰ã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚');
        }
        
        // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ç”Ÿæˆ
        function createParticles() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 8 + 's';
                particle.style.animationDuration = (6 + Math.random() * 4) + 's';
                container.appendChild(particle);
            }
        }
        
        // ãƒ¯ãƒ¼ãƒ«ãƒ‰é¸æŠ
        function selectWorld(worldType) {
            currentWorld = worldType;
            const world = worlds[worldType];
            
            // ã‚«ãƒ¼ãƒ‰ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹æ›´æ–°
            document.querySelectorAll('.world-card').forEach(card => {
                card.classList.remove('active');
            });
            event.target.closest('.world-card').classList.add('active');
            
            // è©³ç´°ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¡¨ç¤º
            const detailsSection = document.getElementById('detailsSection');
            const detailsTitle = document.getElementById('detailsTitle');
            const detailsContent = document.getElementById('detailsContent');
            
            detailsTitle.textContent = world.title;
            
            detailsContent.innerHTML = `
                <p style="font-size: 1.1em; margin-bottom: 25px; text-align: center; opacity: 0.9;">
                    ${world.description}
                </p>
                
                <div class="features-grid">
                    ${world.features.map(feature => `
                        <div class="feature-item">
                            <div class="feature-icon">${feature.icon}</div>
                            <div class="feature-title">${feature.title}</div>
                            <div class="feature-description">${feature.description}</div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="interaction-panel">
                    <button class="action-button" onclick="startDemo('${worldType}')">
                        ğŸ® ãƒ‡ãƒ¢ä½“é¨“
                    </button>
                    <button class="action-button" onclick="showCode('${worldType}')">
                        ğŸ’» ã‚³ãƒ¼ãƒ‰è¡¨ç¤º
                    </button>
                    <button class="action-button" onclick="explainConcept('${worldType}')">
                        ğŸ¤– Claudeè§£èª¬
                    </button>
                    <button class="action-button special" onclick="createPersonalized('${worldType}')">
                        âœ¨ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
                    </button>
                </div>
                
                <div class="demo-area" id="demoArea-${worldType}">
                    <div class="demo-content">
                        ${world.title}ã®æ©Ÿèƒ½ã‚’ä½“é¨“ã™ã‚‹ã«ã¯ä¸Šã®ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„
                    </div>
                </div>
            `;
            
            detailsSection.classList.add('show');
            showNotification(`${world.title}ã‚’é¸æŠã—ã¾ã—ãŸï¼`);
            
            // çµ±è¨ˆæ›´æ–°
            updateStats();
        }
        
        // ãƒ‡ãƒ¢é–‹å§‹
        function startDemo(worldType) {
            const world = worlds[worldType];
            const demoArea = document.getElementById(`demoArea-${worldType}`);
            
            demoArea.innerHTML = `
                <div class="demo-content">
                    <h3 style="color: #4ecdc4; margin-bottom: 15px;">ğŸ® ${world.title} ãƒ‡ãƒ¢å®Ÿè¡Œä¸­...</h3>
                    <p>3Dç’°å¢ƒã‚’æ§‹ç¯‰ã—ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–è¦ç´ ã‚’åˆæœŸåŒ–ã—ã¦ã„ã¾ã™ã€‚</p>
                    <div style="margin: 20px 0; font-size: 2em;">
                        ${worldType === 'learning' ? 'ğŸ›ï¸ è¨˜æ†¶å®®æ®¿å»ºç¯‰ä¸­...' :
                          worldType === 'clinical' ? 'ğŸŒ„ æ²»ç™‚åœ°å½¢ç”Ÿæˆä¸­...' :
                          worldType === 'developmental' ? 'â° æ™‚ç©ºé–“ãƒãƒƒãƒ—å±•é–‹ä¸­...' :
                          worldType === 'social' ? 'ğŸŒ ç¤¾ä¼šãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹ç¯‰ä¸­...' :
                          'âš¡ æ€è€ƒãƒ•ãƒ­ãƒ¼å¯è¦–åŒ–ä¸­...'}
                    