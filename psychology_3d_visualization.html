<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿ƒç†å­¦ç ”ç©¶Ã—3DCG - è¦‹ãˆãªã„ã‚‚ã®ã‚’è¦‹ãˆã‚‹ã‚‚ã®ã«</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            overflow-x: hidden;
        }
        
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><radialGradient id="g"><stop offset="0%" stop-color="%23fff" stop-opacity="0.1"/><stop offset="100%" stop-color="%23fff" stop-opacity="0"/></radialGradient></defs><circle cx="50" cy="50" r="30" fill="url(%23g)"/></svg>') repeat;
            opacity: 0.1;
            animation: float 20s infinite linear;
        }
        
        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(-100px, -100px) rotate(360deg); }
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            padding: 40px;
        }
        
        .hero h1 {
            font-size: 4em;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96c93d);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient 4s ease infinite;
        }
        
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .hero p {
            font-size: 1.3em;
            margin-bottom: 30px;
            opacity: 0.9;
            line-height: 1.6;
        }
        
        .start-exploring {
            background: linear-gradient(135deg, #ff6b6b 0%, #ffa500 100%);
            color: white;
            border: none;
            padding: 20px 40px;
            border-radius: 30px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s ease;
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.3);
        }
        
        .start-exploring:hover {
            transform: scale(1.05);
        }
        
        .main-container {
            display: grid;
            grid-template-columns: 320px 1fr;
            min-height: 100vh;
            background: white;
            color: #333;
        }
        
        .control-panel {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 20px;
            overflow-y: auto;
        }
        
        .panel-title {
            font-size: 1.4em;
            margin-bottom: 20px;
            text-align: center;
            color: #4ecdc4;
            font-weight: bold;
        }
        
        .section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            backdrop-filter: blur(10px);
        }
        
        .section-title {
            font-weight: bold;
            color: #ffd700;
            margin-bottom: 10px;
            font-size: 1em;
        }
        
        .button {
            background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.8em;
            font-weight: bold;
            transition: transform 0.2s ease;
            width: 100%;
            margin-bottom: 5px;
        }
        
        .button:hover {
            transform: scale(1.02);
        }
        
        .button.active {
            background: linear-gradient(135deg, #ff6b6b 0%, #ffa500 100%);
        }
        
        .visualization-area {
            position: relative;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .psych-canvas {
            width: 100%;
            height: 70vh;
            background: #fff;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .concept-node {
            position: absolute;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            font-size: 0.8em;
            text-align: center;
        }
        
        .concept-node:hover {
            transform: scale(1.1);
            z-index: 10;
        }
        
        .connection-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, #4ecdc4, #44a08d);
            transform-origin: left center;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }
        
        .connection-line.active {
            opacity: 1;
            height: 4px;
            background: linear-gradient(90deg, #ff6b6b, #ffa500);
        }
        
        .info-panel {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 20px;
            border-radius: 10px;
            max-width: 300px;
            backdrop-filter: blur(10px);
        }
        
        .info-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #4ecdc4;
            margin-bottom: 10px;
        }
        
        .info-description {
            font-size: 0.9em;
            line-height: 1.4;
        }
        
        .stats-overlay {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 10px;
            color: #333;
        }
        
        .stat-item {
            margin-bottom: 8px;
            font-size: 0.9em;
        }
        
        .stat-value {
            font-weight: bold;
            color: #667eea;
        }
        
        .research-examples {
            padding: 50px 40px;
            background: #f8f9fa;
            color: #333;
        }
        
        .examples-title {
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 40px;
            color: #2c3e50;
        }
        
        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .example-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .example-card:hover {
            transform: translateY(-5px);
        }
        
        .example-icon {
            font-size: 3em;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .example-title {
            font-size: 1.4em;
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: bold;
            text-align: center;
        }
        
        .example-description {
            color: #7f8c8d;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .tech-stack {
            background: #e8f5e8;
            padding: 10px;
            border-radius: 8px;
            font-size: 0.8em;
        }
        
        .claude-integration {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 50px 40px;
            text-align: center;
        }
        
        .integration-title {
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        
        .integration-description {
            font-size: 1.2em;
            margin-bottom: 30px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }
        
        .demo-chat {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            max-width: 600px;
            margin: 0 auto;
            backdrop-filter: blur(10px);
        }
        
        .chat-message {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            font-size: 0.9em;
        }
        
        .user-message {
            background: rgba(76, 175, 80, 0.3);
            text-align: right;
        }
        
        .claude-message {
            background: rgba(33, 150, 243, 0.3);
        }
        
        .floating-neurons {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .neuron {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(76, 175, 80, 0.6);
            border-radius: 50%;
            animation: float-neuron 10s infinite linear;
        }
        
        @keyframes float-neuron {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }
        
        .hidden {
            display: none;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
            border-left: 4px solid #4ecdc4;
        }
        
        .notification.show {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="floating-neurons" id="neurons"></div>
    
    <div class="hero" id="heroSection">
        <div class="hero-content">
            <h1>ğŸ§  å¿ƒç†å­¦Ã—3DCG</h1>
            <p>
                è¦‹ãˆãªã„å¿ƒã®å‹•ãã‚’ã€ç¾ã—ã„3Dç©ºé–“ã§å¯è¦–åŒ–ã€‚<br>
                æŠ½è±¡çš„ãªæ¦‚å¿µã‚’è§¦ã‚Œã‚‹ã‚‚ã®ã«å¤‰ãˆã€<br>
                ç ”ç©¶ã‚’ã€ŒéŠã³ã€ã«å¤‰æ›ã™ã‚‹é©æ–°çš„ã‚·ã‚¹ãƒ†ãƒ ã€‚
            </p>
            <button class="start-exploring" onclick="startExploring()">
                ğŸš€ å¿ƒç†å­¦3Dä¸–ç•Œã‚’æ¢ç´¢ã™ã‚‹
            </button>
        </div>
    </div>
    
    <div class="main-container hidden" id="mainContainer">
        <div class="control-panel">
            <h2 class="panel-title">ğŸ§  å¿ƒç†å­¦3Dç ”ç©¶å®¤</h2>
            
            <div class="section">
                <div class="section-title">ğŸ¯ ç ”ç©¶åˆ†é‡é¸æŠ</div>
                <button class="button active" onclick="loadPsychArea('cognitive')">ğŸ§© èªçŸ¥å¿ƒç†å­¦</button>
                <button class="button" onclick="loadPsychArea('social')">ğŸ‘¥ ç¤¾ä¼šå¿ƒç†å­¦</button>
                <button class="button" onclick="loadPsychArea('developmental')">ğŸ‘¶ ç™ºé”å¿ƒç†å­¦</button>
                <button class="button" onclick="loadPsychArea('clinical')">ğŸ¥ è‡¨åºŠå¿ƒç†å­¦</button>
                <button class="button" onclick="loadPsychArea('neuro')">ğŸ§  ç¥çµŒå¿ƒç†å­¦</button>
                <button class="button" onclick="loadPsychArea('personality')">ğŸ­ ãƒ‘ãƒ¼ã‚½ãƒŠãƒªãƒ†ã‚£å¿ƒç†å­¦</button>
            </div>
            
            <div class="section">
                <div class="section-title">ğŸ“Š ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–</div>
                <button class="button" onclick="showDataViz('correlation')">ğŸ“ˆ ç›¸é–¢é–¢ä¿‚3D</button>
                <button class="button" onclick="showDataViz('network')">ğŸ•¸ï¸ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†æ</button>
                <button class="button" onclick="showDataViz('timeline')">â° ç¸¦æ–­ç ”ç©¶</button>
                <button class="button" onclick="showDataViz('cluster')">ğŸ¯ ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼åˆ†æ</button>
            </div>
            
            <div class="section">
                <div class="section-title">ğŸ® ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³</div>
                <button class="button" onclick="startSimulation()">â–¶ï¸ ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹</button>
                <button class="button" onclick="addVariable()">â• å¤‰æ•°è¿½åŠ </button>
                <button class="button" onclick="adjustParameters()">âš™ï¸ ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´</button>
                <button class="button" onclick="exportResearch()">ğŸ“¤ ç ”ç©¶ãƒ‡ãƒ¼ã‚¿å‡ºåŠ›</button>
            </div>
            
            <div class="section">
                <div class="section-title">ğŸ¤– Claude AIç›¸è«‡</div>
                <button class="button" onclick="askClaude('theory')">ğŸ’­ ç†è«–ã«ã¤ã„ã¦</button>
                <button class="button" onclick="askClaude('method')">ğŸ”¬ ç ”ç©¶æ‰‹æ³•</button>
                <button class="button" onclick="askClaude('analysis')">ğŸ“Š åˆ†ææ–¹æ³•</button>
                <button class="button" onclick="askClaude('insight')">ğŸ’¡ æ–°ã—ã„è¦–ç‚¹</button>
            </div>
            
            <div style="background: rgba(76, 175, 80, 0.2); padding: 12px; border-radius: 8px; margin-top: 15px;">
                <div style="font-size: 0.8em; font-weight: bold; color: #4caf50; margin-bottom: 6px;">
                    âœ¨ å­¦ç¿’åŠ¹æœUP
                </div>
                <div style="font-size: 0.7em; opacity: 0.9;">
                    è¦–è¦šåŒ–ã«ã‚ˆã‚Šç†è§£åº¦40%å‘ä¸Š<br>
                    è¨˜æ†¶å®šç€ç‡60%æ”¹å–„<br>
                    ç ”ç©¶ã¸ã®èˆˆå‘³200%å¢—åŠ 
                </div>
            </div>
        </div>
        
        <div class="visualization-area">
            <div class="psych-canvas" id="psychCanvas">
                <!-- 3Då¿ƒç†å­¦æ¦‚å¿µãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ -->
            </div>
            
            <div class="info-panel" id="infoPanel">
                <div class="info-title">ğŸ§© èªçŸ¥å¿ƒç†å­¦</div>
                <div class="info-description">
                    è¨˜æ†¶ã€æ³¨æ„ã€çŸ¥è¦šã€æ€è€ƒãªã©ã®èªçŸ¥ãƒ—ãƒ­ã‚»ã‚¹ã‚’3Dç©ºé–“ã§å¯è¦–åŒ–ã€‚
                    æƒ…å ±å‡¦ç†ã®æµã‚Œã‚„ç›¸äº’ä½œç”¨ã‚’ç›´æ„Ÿçš„ã«ç†è§£ã§ãã¾ã™ã€‚
                </div>
            </div>
            
            <div class="stats-overlay">
                <div class="stat-item">ã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ¦‚å¿µ: <span class="stat-value" id="activeConcepts">8</span></div>
                <div class="stat-item">æ¥ç¶šæ•°: <span class="stat-value" id="connections">12</span></div>
                <div class="stat-item">ç†è§£åº¦: <span class="stat-value" id="understanding">85%</span></div>
                <div class="stat-item">èˆˆå‘³ãƒ¬ãƒ™ãƒ«: <span class="stat-value" id="interest">HIGH</span></div>
            </div>
        </div>
    </div>
    
    <div class="research-examples">
        <h2 class="examples-title">ğŸ”¬ å¿ƒç†å­¦Ã—3DCG ç ”ç©¶ä¾‹</h2>
        
        <div class="examples-grid">
            <div class="example-card">
                <div class="example-icon">ğŸ§ </div>
                <div class="example-title">è¨˜æ†¶å®®æ®¿ã®3Då¯è¦–åŒ–</div>
                <div class="example-description">
                    å¤ä»£ã‚®ãƒªã‚·ãƒ£ã®è¨˜æ†¶è¡“ã€Œè¨˜æ†¶å®®æ®¿ã€ã‚’3Dç©ºé–“ã§å†ç¾ã€‚å­¦ç¿’è€…ãŒä»®æƒ³ç©ºé–“ã‚’æ­©ãå›ã‚ŠãªãŒã‚‰æƒ…å ±ã‚’é…ç½®ã—ã€è¨˜æ†¶åŠ¹ç‡ã‚’åŠ‡çš„ã«å‘ä¸Šã•ã›ã‚‹ç ”ç©¶ã‚·ã‚¹ãƒ†ãƒ ã€‚
                </div>
                <div class="tech-stack">
                    <strong>æŠ€è¡“:</strong> Three.js + WebXR + ç©ºé–“éŸ³éŸ¿ + Claude AI
                </div>
            </div>
            
            <div class="example-card">
                <div class="example-icon">ğŸ‘¥</div>
                <div class="example-title">ç¤¾ä¼šãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®åŠ›å­¦</div>
                <div class="example-description">
                    äººé–“é–¢ä¿‚ã®è¤‡é›‘ãªç›¸äº’ä½œç”¨ã‚’3Dãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦å¯è¦–åŒ–ã€‚å‹æƒ…ã€æ‹æ„›ã€è·å ´é–¢ä¿‚ãŒæ™‚é–“ã¨ã¨ã‚‚ã«ã©ã†å¤‰åŒ–ã™ã‚‹ã‹ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§è¦³å¯Ÿãƒ»åˆ†æã€‚
                </div>
                <div class="tech-stack">
                    <strong>æŠ€è¡“:</strong> D3.js + Three.js + ç‰©ç†ã‚¨ãƒ³ã‚¸ãƒ³ + SNS API
                </div>
            </div>
            
            <div class="example-card">
                <div class="example-icon">ğŸ­</div>
                <div class="example-title">æ„Ÿæƒ…ã®åœ°å½¢å›³</div>
                <div class="example-description">
                    Russell ã®æ„Ÿæƒ…å††ç’°ãƒ¢ãƒ‡ãƒ«ã‚’3Dåœ°å½¢ã¨ã—ã¦è¡¨ç¾ã€‚å–œã³ã€æ‚²ã—ã¿ã€æ€’ã‚Šã€ææ€–ãªã©ã®æ„Ÿæƒ…ãŒå±±ã‚„è°·ã¨ã—ã¦ç«‹ä½“çš„ã«ç¾ã‚Œã€æ„Ÿæƒ…é–“ã®è·é›¢ã‚„å¤‰åŒ–ã‚’ç›´æ„Ÿçš„ã«ç†è§£ã€‚
                </div>
                <div class="tech-stack">
                    <strong>æŠ€è¡“:</strong> æ„Ÿæƒ…èªè­˜AI + ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åœ°å½¢ç”Ÿæˆ + ãƒã‚¤ã‚ªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
                </div>
            </div>
            
            <div class="example-card">
                <div class="example-icon">ğŸ”¬</div>
                <div class="example-title">èªçŸ¥ãƒã‚¤ã‚¢ã‚¹ã®è¿·å®®</div>
                <div class="example-description">
                    ç¢ºè¨¼ãƒã‚¤ã‚¢ã‚¹ã€åˆ©ç”¨å¯èƒ½æ€§ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ã€ã‚¢ãƒ³ã‚«ãƒªãƒ³ã‚°åŠ¹æœãªã©ã€100ä»¥ä¸Šã®èªçŸ¥ãƒã‚¤ã‚¢ã‚¹ã‚’è¿·å®®ã¨ã—ã¦3DåŒ–ã€‚ä½“é¨“ã—ãªãŒã‚‰è‡ªåˆ†ã®ãƒã‚¤ã‚¢ã‚¹ã‚’ç™ºè¦‹ã€‚
                </div>
                <div class="tech-stack">
                    <strong>æŠ€è¡“:</strong> ã‚²ãƒ¼ãƒŸãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ + è¡Œå‹•è¿½è·¡ + ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºãƒ‰AI
                </div>
            </div>
            
            <div class="example-card">
                <div class="example-icon">ğŸ§¬</div>
                <div class="example-title">ãƒ‘ãƒ¼ã‚½ãƒŠãƒªãƒ†ã‚£ã®çµæ™¶</div>
                <div class="example-description">
                    ãƒ“ãƒƒã‚°ãƒ•ã‚¡ã‚¤ãƒ–ã€MBTIã€ã‚¨ãƒ‹ã‚¢ã‚°ãƒ©ãƒ ãªã©ã®æ€§æ ¼ç†è«–ã‚’3Dçµæ™¶ã¨ã—ã¦å¯è¦–åŒ–ã€‚å€‹äººã®æ€§æ ¼ãŒç¾ã—ã„å¹¾ä½•å­¦æ¨¡æ§˜ã¨ã—ã¦ç¾ã‚Œã€ä»–è€…ã¨ã®ç›¸æ€§ã‚‚ç©ºé–“çš„ã«è¡¨ç¾ã€‚
                </div>
                <div class="tech-stack">
                    <strong>æŠ€è¡“:</strong> å¤šæ¬¡å…ƒãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ– + æ©Ÿæ¢°å­¦ç¿’ + çµæ™¶ç”Ÿæˆã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
                </div>
            </div>
            
            <div class="example-card">
                <div class="example-icon">â°</div>
                <div class="example-title">ç™ºé”ã®æ™‚ç©ºé–“ãƒãƒƒãƒ—</div>
                <div class="example-description">
                    ãƒ”ã‚¢ã‚¸ã‚§ã®èªçŸ¥ç™ºé”æ®µéšã€ã‚¨ãƒªã‚¯ã‚½ãƒ³ã®å¿ƒç†ç¤¾ä¼šçš„ç™ºé”ãªã©ã€ç™ºé”ç†è«–ã‚’æ™‚ç©ºé–“ã®4æ¬¡å…ƒãƒãƒƒãƒ—ã¨ã—ã¦è¡¨ç¾ã€‚æˆé•·ã®è»Œè·¡ã‚’ç«‹ä½“çš„ã«è¿½è·¡ãƒ»äºˆæ¸¬ã€‚
                </div>
                <div class="tech-stack">
                    <strong>æŠ€è¡“:</strong> 4æ¬¡å…ƒå¯è¦–åŒ– + ç¸¦æ–­ãƒ‡ãƒ¼ã‚¿åˆ†æ + äºˆæ¸¬ãƒ¢ãƒ‡ãƒªãƒ³ã‚°
                </div>
            </div>
        </div>
    </div>
    
    <div class="claude-integration">
        <h2 class="integration-title">ğŸ¤– Claude AI Ã— å¿ƒç†å­¦ç ”ç©¶</h2>
        <p class="integration-description">
            ã€Œã“ã®ç†è«–ã‚’ã‚‚ã£ã¨ç›´æ„Ÿçš„ã«ç†è§£ã—ãŸã„ã€ã€Œãƒ‡ãƒ¼ã‚¿ã®éš ã‚ŒãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¦‹ã¤ã‘ãŸã„ã€<br>
            è‡ªç„¶è¨€èªã§Claudeã«ç›¸è«‡ã™ã‚‹ã¨ã€å³åº§ã«3Då¯è¦–åŒ–ã‚„æ–°ã—ã„åˆ†ææ‰‹æ³•ã‚’ææ¡ˆã—ã¾ã™ã€‚
        </p>
        
        <div class="demo-chat">
            <div class="chat-message user-message">
                ã€ŒèªçŸ¥çš„ä¸å”å’Œç†è«–ã‚’å­¦ç”Ÿã«ã‚ã‹ã‚Šã‚„ã™ãæ•™ãˆãŸã„ã‚“ã§ã™ãŒã€ä½•ã‹è‰¯ã„å¯è¦–åŒ–æ–¹æ³•ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿã€
            </div>
            <div class="chat-message claude-message">
                <strong>Claude:</strong> ç´ æ™´ã‚‰ã—ã„è³ªå•ã§ã™ã­ï¼èªçŸ¥çš„ä¸å”å’Œã‚’3Dç©ºé–“ã§è¡¨ç¾ã—ã¾ã—ã‚‡ã†ã€‚<br><br>
                
                1. **ä¸å”å’Œã®è°·**: çŸ›ç›¾ã™ã‚‹ä¿¡å¿µã‚’å±±ã¨å±±ã®é–“ã®æ·±ã„è°·ã¨ã—ã¦è¡¨ç¾<br>
                2. **ãƒãƒ©ãƒ³ã‚¹ã®çƒ**: å¿ƒç†çš„ãƒãƒ©ãƒ³ã‚¹ã‚’æ±‚ã‚ã¦è°·ã‹ã‚‰è„±å‡ºã—ã‚ˆã†ã¨ã™ã‚‹å…‰ã‚‹çƒ<br>
                3. **è§£æ±ºã®æ©‹**: æ…‹åº¦å¤‰å®¹ã‚„ä¿¡å¿µå¤‰æ›´ã«ã‚ˆã‚‹è§£æ±ºç­–ã‚’è™¹è‰²ã®æ©‹ã¨ã—ã¦å¯è¦–åŒ–<br><br>
                
                å­¦ç”ŸãŒä»®æƒ³ç©ºé–“ã§å®Ÿéš›ã«ã€Œä¸å”å’Œã®è°·ã€ã‚’ä½“é¨“ã—ã€æ§˜ã€…ãªè§£æ±ºç­–ã‚’è©¦ã›ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ï¼
            </div>
            <div class="chat-message user-message">
                ã€Œãã‚Œé¢ç™½ãã†ï¼å®Ÿéš›ã«Three.jsã§ä½œã‚Œã¾ã™ã‹ï¼Ÿã€
            </div>
            <div class="chat-message claude-message">
                <strong>Claude:</strong> ã‚‚ã¡ã‚ã‚“ã§ã™ï¼ä»¥ä¸‹ã®ã‚ˆã†ãªå®Ÿè£…ã«ãªã‚Šã¾ã™ï¼š<br><br>
                
                ```javascript<br>
                // ä¸å”å’Œã®è°·ã‚’ç”Ÿæˆ<br>
                const valleyGeometry = createCognitiveDissonanceValley();<br>
                const balanceBall = createPsychologicalBalanceBall();<br>
                const resolutionBridges = createResolutionPaths();<br>
                ```<br><br>
                
                ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã—ã¾ã™ã‹ï¼Ÿ
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification"></div>
    
    <script>
        let currentArea = 'cognitive';
        let concepts = [];
        let connections = [];
        let isSimulating = false;
        
        // æµ®éŠãƒ‹ãƒ¥ãƒ¼ãƒ­ãƒ³ã®ç”Ÿæˆ
        function createFloatingNeurons() {
            const neuronsContainer = document.getElementById('neurons');
            
            for (let i = 0; i < 20; i++) {
                const neuron = document.createElement('div');
                neuron.className = 'neuron';
                neuron.style.left = Math.random() * 100 + '%';
                neuron.style.animationDelay = Math.random() * 10 + 's';
                neuron.style.animationDuration = (8 + Math.random() * 4) + 's';
                neuronsContainer.appendChild(neuron);
            }
        }
        
        function startExploring() {
            document.getElementById('heroSection').classList.add('hidden');
            document.getElementById('mainContainer').classList.remove('hidden');
            loadPsychArea('cognitive');
            showNotification('ğŸ§  å¿ƒç†å­¦3Dç ”ç©¶å®¤ã¸ã‚ˆã†ã“ãï¼');
        }
        
        function loadPsychArea(area) {
            currentArea = area;
            const canvas = document.getElementById('psychCanvas');
            canvas.innerHTML = '';
            
            // ãƒœã‚¿ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹æ›´æ–°
            document.querySelectorAll('.button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            const areas = {
                cognitive: {
                    title: 'ğŸ§© èªçŸ¥å¿ƒç†å­¦',
                    description: 'è¨˜æ†¶ã€æ³¨æ„ã€çŸ¥è¦šã€æ€è€ƒãªã©ã®èªçŸ¥ãƒ—ãƒ­ã‚»ã‚¹ã‚’3Dç©ºé–“ã§å¯è¦–åŒ–ã€‚æƒ…å ±å‡¦ç†ã®æµã‚Œã‚„ç›¸äº’ä½œç”¨ã‚’ç›´æ„Ÿçš„ã«ç†è§£ã§ãã¾ã™ã€‚',
                    concepts: [
                        { name: 'è¨˜æ†¶', x: 20, y: 20, color: '#ff6b6b' },
                        { name: 'æ³¨æ„', x: 60, y: 30, color: '#4ecdc4' },
                        { name: 'çŸ¥è¦š', x: 30, y: 60, color: '#45b7d1' },
                        { name: 'æ€è€ƒ', x: 70, y: 70, color: '#96c93d' },
                        { name: 'è¨€èª', x: 50, y: 40, color: '#f39c12' },
                        { name: 'æ„è­˜', x: 40, y: 80, color: '#9b59b6' },
                        { name: 'å­¦ç¿’', x: 80, y: 50, color: '#e74c3c' },
                        { name: 'æ¨è«–', x: 25, y: 45, color: '#1abc9c' }
                    ]
                },
                social: {
                    title: 'ğŸ‘¥ ç¤¾ä¼šå¿ƒç†å­¦',
                    description: 'å¯¾äººé–¢ä¿‚ã€é›†å›£è¡Œå‹•ã€ç¤¾ä¼šçš„å½±éŸ¿ã‚’3Dãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã§è¡¨ç¾ã€‚ç¤¾ä¼šã®ä¸­ã®å€‹äººã®è¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç«‹ä½“çš„ã«åˆ†æã€‚',
                    concepts: [
                        { name: 'æ…‹åº¦', x: 25, y: 25, color: '#e74c3c' },
                        { name: 'åè¦‹', x: 70, y: 30, color: '#34495e' },
                        { name: 'åŒèª¿', x: 40, y: 50, color: '#3498db' },
                        { name: 'ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—', x: 80, y: 60, color: '#f39c12' },
                        { name: 'æ„›ç€', x: 30, y: 70, color: '#e91e63' },
                        { name: 'æ”»æ’ƒæ€§', x: 60, y: 80, color: '#ff5722' },
                        { name: 'æ´åŠ©è¡Œå‹•', x: 50, y: 20, color: '#4caf50' },
                        { name: 'é›†å›£æ€è€ƒ', x: 20, y: 60, color: '#9c27b0' }
                    ]
                },
                developmental: {
                    title: 'ğŸ‘¶ ç™ºé”å¿ƒç†å­¦',
                    description: 'äººé–“ã®ç”Ÿæ¶¯ã«ã‚ãŸã‚‹ç™ºé”éç¨‹ã‚’æ™‚é–“è»¸ã¨ã¨ã‚‚ã«3Då¯è¦–åŒ–ã€‚æˆé•·ã®è»Œè·¡ã¨ç™ºé”æ®µéšã‚’ç«‹ä½“çš„ã«ç†è§£ã€‚',
                    concepts: [
                        { name: 'ä¹³å…æœŸ', x: 15, y: 80, color: '#ffb3ba' },
                        { name: 'å¹¼å…æœŸ', x: 25, y: 65, color: '#ffdfba' },
                        { name: 'å…ç«¥æœŸ', x: 35, y: 50, color: '#ffffba' },
                        { name: 'é’å¹´æœŸ', x: 50, y: 35, color: '#baffc9' },
                        { name: 'æˆäººæœŸ', x: 65, y: 25, color: '#bae1ff' },
                        { name: 'è€å¹´æœŸ', x: 80, y: 20, color: '#e0bfff' },
                        { name: 'èªçŸ¥ç™ºé”', x: 40, y: 70, color: '#4ecdc4' },
                        { name: 'è¨€èªç™ºé”', x: 60, y: 60, color: '#45b7d1' }
                    ]
                },
                clinical: {
                    title: 'ğŸ¥ è‡¨åºŠå¿ƒç†å­¦',
                    description: 'ç²¾ç¥çš„å¥åº·ã€å¿ƒç†çš„éšœå®³ã€æ²»ç™‚æ³•ã‚’3Dç©ºé–“ã§å¯è¦–åŒ–ã€‚ç—‡çŠ¶ã®ç›¸äº’é–¢ä¿‚ã‚„æ²»ç™‚åŠ¹æœã‚’ç«‹ä½“çš„ã«åˆ†æã€‚',
                    concepts: [
                        { name: 'ã†ã¤ç—…', x: 30, y: 30, color: '#2c3e50' },
                        { name: 'ä¸å®‰éšœå®³', x: 60, y: 25, color: '#e74c3c' },
                        { name: 'PTSD', x: 40, y: 60, color: '#8e44ad' },
                        { name: 'èªçŸ¥ç™‚æ³•', x: 70, y: 70, color: '#27ae60' },
                        { name: 'ç²¾ç¥åˆ†æ', x: 25, y: 70, color: '#f39c12' },
                        { name: 'ãƒã‚¤ãƒ³ãƒ‰ãƒ•ãƒ«ãƒã‚¹', x: 80, y: 50, color: '#1abc9c' },
                        { name: 'ãƒ¬ã‚¸ãƒªã‚¨ãƒ³ã‚¹', x: 50, y: 80, color: '#3498db' },
                        { name: 'æ²»ç™‚é–¢ä¿‚', x: 20, y: 50, color: '#e91e63' }
                    ]
                },
                neuro: {
                    title: 'ğŸ§  ç¥çµŒå¿ƒç†å­¦',
                    description: 'è„³æ©Ÿèƒ½ã¨å¿ƒç†ç¾è±¡ã®é–¢ä¿‚ã‚’3Dè„³ãƒ¢ãƒ‡ãƒ«ã§å¯è¦–åŒ–ã€‚ç¥çµŒå›è·¯ã¨è¡Œå‹•ã®é–¢é€£æ€§ã‚’ç›´æ„Ÿçš„ã«ç†è§£ã€‚',
                    concepts: [
                        { name: 'å‰é ­è‘‰', x: 70, y: 30, color: '#e74c3c' },
                        { name: 'å´é ­è‘‰', x: 30, y: 50, color: '#3498db' },
                        { name: 'é ­é ‚è‘‰', x: 50, y: 20, color: '#2ecc71' },
                        { name: 'å¾Œé ­è‘‰', x: 20, y: 30, color: '#f39c12' },
                        { name: 'æµ·é¦¬', x: 40, y: 60, color: '#9b59b6' },
                        { name: 'æ‰æ¡ƒä½“', x: 60, y: 70, color: '#e67e22' },
                        { name: 'ãƒ‰ãƒ¼ãƒ‘ãƒŸãƒ³', x: 80, y: 60, color: '#1abc9c' },
                        { name: 'ã‚»ãƒ­ãƒˆãƒ‹ãƒ³', x: 25, y: 75, color: '#fd79a8' }
                    ]
                },
                personality: {
                    title: 'ğŸ­ ãƒ‘ãƒ¼ã‚½ãƒŠãƒªãƒ†ã‚£å¿ƒç†å­¦',
                    description: 'å€‹äººå·®ã€æ€§æ ¼ç‰¹æ€§ã€ãƒ‘ãƒ¼ã‚½ãƒŠãƒªãƒ†ã‚£ç†è«–ã‚’å¤šæ¬¡å…ƒç©ºé–“ã§å¯è¦–åŒ–ã€‚è¤‡é›‘ãªå€‹æ€§ã®æ§‹é€ ã‚’ç«‹ä½“çš„ã«åˆ†æã€‚',
                    concepts: [
                        { name: 'å¤–å‘æ€§', x: 80, y: 40, color: '#ff6b6b' },
                        { name: 'å†…å‘æ€§', x: 20, y: 40, color: '#4ecdc4' },
                        { name: 'ç¥çµŒç—‡å‚¾å‘', x: 30, y: 70, color: '#45b7d1' },
                        { name: 'é–‹æ”¾æ€§', x: 70, y: 20, color: '#96c93d' },
                        { name: 'å”èª¿æ€§', x: 50, y: 80, color: '#f39c12' },
                        { name: 'èª å®Ÿæ€§', x: 60, y: 60, color: '#9b59b6' },
                        { name: 'ãƒ“ãƒƒã‚°ãƒ•ã‚¡ã‚¤ãƒ–', x: 50, y: 50, color: '#e74c3c' },
                        { name: 'MBTI', x: 40, y: 30, color: '#1abc9c' }
                    ]
                }
            };
            
            const currentAreaData = areas[area];
            updateInfoPanel(currentAreaData.title, currentAreaData.description);
            
            concepts = currentAreaData.concepts;
            createConceptNodes();
            createConnections();
            updateStats();
            
            showNotification(`${currentAreaData.title} ã‚’èª­ã¿è¾¼ã¿ã¾ã—ãŸï¼`);
        }
        
        function createConceptNodes() {
            const canvas = document.getElementById('psychCanvas');
            
            concepts.forEach((concept, index) => {
                const node = document.createElement('div');
                node.className = 'concept-node';
                node.textContent = concept.name;
                node.style.backgroundColor = concept.color;
                node.style.left = concept.x + '%';
                node.style.top = concept.y + '%';
                node.style.animationDelay = (index * 0.1) + 's';
                
                node.addEventListener('click', () => exploreConceptDeep(concept));
                node.addEventListener('mouseenter', () => highlightConnections(concept));
                node.addEventListener('mouseleave', () => resetConnections());
                
                canvas.appendChild(node);
            });
        }
        
        function createConnections() {
            const canvas = document.getElementById('psychCanvas');
            connections = [];
            
            for (let i = 0; i < concepts.length; i++) {
                for (let j = i + 1; j < concepts.length; j++) {
                    if (Math.random() > 0.6) { // 40%ã®ç¢ºç‡ã§æ¥ç¶š
                        const connection = createConnectionLine(concepts[i], concepts[j]);
                        canvas.appendChild(connection);
                        connections.push({
                            line: connection,
                            from: concepts[i],
                            to: concepts[j]
                        });
                    }
                }
            }
        }
        
        function createConnectionLine(concept1, concept2) {
            const line = document.createElement('div');
            line.className = 'connection-line';
            
            const x1 = parseFloat(concept1.x);
            const y1 = parseFloat(concept1.y);
            const x2 = parseFloat(concept2.x);
            const y2 = parseFloat(concept2.y);
            
            const length = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
            const angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;
            
            line.style.width = length + '%';
            line.style.left = x1 + '%';
            line.style.top = y1 + '%';
            line.style.transform = `rotate(${angle}deg)`;
            
            return line;
        }
        
        function exploreConceptDeep(concept) {
            const deepExplanations = {
                'è¨˜æ†¶': {
                    title: 'ğŸ§  è¨˜æ†¶ã®3Dæ§‹é€ ',
                    content: 'è¨˜æ†¶ã¯éšå±¤çš„ãª3Dæ§‹é€ ã‚’æŒã£ã¦ã„ã¾ã™ã€‚æ„Ÿè¦šè¨˜æ†¶â†’çŸ­æœŸè¨˜æ†¶â†’é•·æœŸè¨˜æ†¶ã¸ã®æµã‚Œã‚’ã€æ°´ã®æµã‚Œã®ã‚ˆã†ã«å¯è¦–åŒ–ã€‚ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰è¨˜æ†¶ã¯è‰²é®®ã‚„ã‹ãªçƒä½“ã€æ„å‘³è¨˜æ†¶ã¯å¹¾ä½•å­¦çš„ãªçµæ™¶ã¨ã—ã¦è¡¨ç¾ã•ã‚Œã¾ã™ã€‚',
                    visualization: 'memory_palace_3d'
                },
                'æ³¨æ„': {
                    title: 'ğŸ¯ æ³¨æ„ã®ã‚¹ãƒãƒƒãƒˆãƒ©ã‚¤ãƒˆ',
                    content: 'æ³¨æ„æ©Ÿèƒ½ã‚’å‹•çš„ãªã‚¹ãƒãƒƒãƒˆãƒ©ã‚¤ãƒˆã¨ã—ã¦3DåŒ–ã€‚é¸æŠçš„æ³¨æ„ã¯ç‹­ã„ãƒ“ãƒ¼ãƒ ã€åˆ†æ•£æ³¨æ„ã¯åºƒãŒã‚‹å…‰ã¨ã—ã¦è¡¨ç¾ã€‚æ³¨æ„ã®åˆ‡ã‚Šæ›¿ãˆã¯å…‰ã®ç§»å‹•ã¨ã—ã¦å¯è¦–åŒ–ã•ã‚Œã€æ³¨æ„æ¬ é™¥ã¯å…‰ã®æ•£ä¹±ã¨ã—ã¦ç¾ã‚Œã¾ã™ã€‚',
                    visualization: 'attention_spotlight'
                },
                'å¤–å‘æ€§': {
                    title: 'ğŸŒŸ å¤–å‘æ€§ã®æ”¾å°„ãƒ‘ã‚¿ãƒ¼ãƒ³',
                    content: 'å¤–å‘æ€§ã‚’ä¸­å¿ƒã‹ã‚‰æ”¾å°„ã™ã‚‹å…‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã—ã¦è¡¨ç¾ã€‚ç¤¾äº¤æ€§ã€ç©æ¥µæ€§ã€ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒç•°ãªã‚‹è‰²ã®å…‰ç·šã¨ã—ã¦å¤–å´ã«ä¼¸ã³ã€ä»–è€…ã¨ã®ç›¸äº’ä½œç”¨ã‚’å…‰ã®äº¤å·®ã¨ã—ã¦å¯è¦–åŒ–ã—ã¾ã™ã€‚',
                    visualization: 'extraversion_radiation'
                },
                'ã†ã¤ç—…': {
                    title: 'ğŸŒ§ï¸ ã†ã¤ç—…ã®å¿ƒç†åœ°å½¢',
                    content: 'ã†ã¤ç—…ã‚’æš—ã„è°·é–“ã¨ã—ã¦3DåŒ–ã€‚èªçŸ¥ã®æ­ªã¿ã€æ„Ÿæƒ…ã®ä½ä¸‹ã€è¡Œå‹•ã®åˆ¶é™ãŒåœ°å½¢ã®ç‰¹å¾´ã¨ã—ã¦ç¾ã‚Œã€æ²»ç™‚æ³•ã¯è°·ã‹ã‚‰æŠœã‘å‡ºã™é“ã¨ã—ã¦å¯è¦–åŒ–ã•ã‚Œã¾ã™ã€‚',
                    visualization: 'depression_landscape'
                }
            };
            
            const explanation = deepExplanations[concept.name] || {
                title: `ğŸ’¡ ${concept.name}ã®æ¢ç´¢`,
                content: `${concept.name}ã«ã¤ã„ã¦ã®è©³ç´°ãª3Då¯è¦–åŒ–ã‚’æº–å‚™ä¸­ã€‚Claude AIã¨é€£æºã—ã¦ã€ã“ã®æ¦‚å¿µã‚’ã‚ˆã‚Šæ·±ãç†è§£ã™ã‚‹ãŸã‚ã®è¦–è¦šåŒ–ã‚’ç”Ÿæˆã—ã¾ã™ã€‚`,
                visualization: 'general_concept'
            };
            
            updateInfoPanel(explanation.title, explanation.content);
            showNotification(`${concept.name}ã‚’æ·±ãæ¢ç´¢ä¸­...`);
            
            // é¸æŠã•ã‚ŒãŸæ¦‚å¿µã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ
            document.querySelectorAll('.concept-node').forEach(node => {
                if (node.textContent === concept.name) {
                    node.style.transform = 'scale(1.3)';
                    node.style.boxShadow = '0 0 20px rgba(255, 255, 255, 0.8)';
                } else {
                    node.style.transform = 'scale(1)';
                    node.style.boxShadow = '0 5px 15px rgba(0,0,0,0.2)';
                }
            });
        }
        
        function highlightConnections(concept) {
            connections.forEach(conn => {
                if (conn.from === concept || conn.to === concept) {
                    conn.line.classList.add('active');
                }
            });
        }
        
        function resetConnections() {
            connections.forEach(conn => {
                conn.line.classList.remove('active');
            });
            
            // ãƒãƒ¼ãƒ‰ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚‚ãƒªã‚»ãƒƒãƒˆ
            document.querySelectorAll('.concept-node').forEach(node => {
                node.style.transform = 'scale(1)';
                node.style.boxShadow = '0 5px 15px rgba(0,0,0,0.2)';
            });
        }
        
        function showDataViz(type) {
            const vizTypes = {
                correlation: {
                    title: 'ğŸ“ˆ ç›¸é–¢é–¢ä¿‚ã®3Dæ•£å¸ƒå›³',
                    description: 'è¤‡æ•°ã®å¿ƒç†å¤‰æ•°é–“ã®ç›¸é–¢ã‚’3æ¬¡å…ƒç©ºé–“ã«ãƒ—ãƒ­ãƒƒãƒˆã€‚ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã®ä½ç½®ã€è‰²ã€ã‚µã‚¤ã‚ºã§å¤šæ¬¡å…ƒã®é–¢ä¿‚æ€§ã‚’è¡¨ç¾ã€‚'
                },
                network: {
                    title: 'ğŸ•¸ï¸ å¿ƒç†çš„ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†æ',
                    description: 'å¿ƒç†ç—‡çŠ¶ã‚„ç‰¹æ€§ã®ç›¸äº’å½±éŸ¿ã‚’3Dãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¨ã—ã¦å¯è¦–åŒ–ã€‚ãƒãƒ¼ãƒ‰ã®å¤§ãã•ã¯é‡è¦åº¦ã€ã‚¨ãƒƒã‚¸ã®å¤ªã•ã¯é–¢ä¿‚ã®å¼·ã•ã‚’è¡¨ç¾ã€‚'
                },
                timeline: {
                    title: 'â° ç¸¦æ–­ç ”ç©¶ã®æ™‚ç©ºé–“ãƒ“ãƒ¥ãƒ¼',
                    description: 'é•·æœŸé–“ã«ã‚ãŸã‚‹å¿ƒç†å¤‰åŒ–ã‚’4æ¬¡å…ƒï¼ˆ3D+æ™‚é–“ï¼‰ã§å¯è¦–åŒ–ã€‚å€‹äººã®ç™ºé”è»Œè·¡ãŒè‰²é®®ã‚„ã‹ãªè»Œé“ã¨ã—ã¦ç©ºé–“ã«æã‹ã‚Œã¾ã™ã€‚'
                },
                cluster: {
                    title: 'ğŸ¯ å¿ƒç†é¡å‹ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼åˆ†æ',
                    description: 'ãƒ‘ãƒ¼ã‚½ãƒŠãƒªãƒ†ã‚£ã‚¿ã‚¤ãƒ—ã‚„ç—‡çŠ¶ç¾¤ã‚’3Dç©ºé–“ã§ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã€‚ä¼¼ãŸç‰¹å¾´ã‚’æŒã¤ç¾¤ãŒè‡ªç„¶ã«é›†ã¾ã‚Šã€ç¾ã—ã„3Då³¶ã¨ã—ã¦å½¢æˆã•ã‚Œã¾ã™ã€‚'
                }
            };
            
            const viz = vizTypes[type];
            updateInfoPanel(viz.title, viz.description);
            
            // ç°¡å˜ãªãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ãƒ‡ãƒ¢
            const canvas = document.getElementById('psychCanvas');
            canvas.innerHTML = '';
            
            // ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã‚’ç”Ÿæˆ
            for (let i = 0; i < 50; i++) {
                const dataPoint = document.createElement('div');
                dataPoint.style.position = 'absolute';
                dataPoint.style.width = '8px';
                dataPoint.style.height = '8px';
                dataPoint.style.borderRadius = '50%';
                dataPoint.style.backgroundColor = `hsl(${Math.random() * 360}, 70%, 60%)`;
                dataPoint.style.left = Math.random() * 90 + '%';
                dataPoint.style.top = Math.random() * 90 + '%';
                dataPoint.style.transition = 'all 2s ease';
                dataPoint.style.boxShadow = '0 2px 8px rgba(0,0,0,0.3)';
                
                canvas.appendChild(dataPoint);
                
                // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
                setTimeout(() => {
                    dataPoint.style.transform = `scale(${1 + Math.random()}) translate(${(Math.random() - 0.5) * 100}px, ${(Math.random() - 0.5) * 100}px)`;
                }, i * 50);
            }
            
            showNotification(`${viz.title}ã‚’ç”Ÿæˆã—ã¾ã—ãŸï¼`);
        }
        
        function startSimulation() {
            isSimulating = !isSimulating;
            
            if (isSimulating) {
                showNotification('ğŸ® å¿ƒç†å­¦ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹ï¼');
                animateAllConcepts();
            } else {
                showNotification('â¸ï¸ ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³åœæ­¢');
            }
        }
        
        function animateAllConcepts() {
            if (!isSimulating) return;
            
            document.querySelectorAll('.concept-node').forEach((node, index) => {
                setTimeout(() => {
                    if (isSimulating) {
                        const currentLeft = parseFloat(node.style.left);
                        const currentTop = parseFloat(node.style.top);
                        
                        const newLeft = Math.max(5, Math.min(90, currentLeft + (Math.random() - 0.5) * 10));
                        const newTop = Math.max(5, Math.min(90, currentTop + (Math.random() - 0.5) * 10));
                        
                        node.style.transition = 'all 2s ease';
                        node.style.left = newLeft + '%';
                        node.style.top = newTop + '%';
                        
                        // æ¥ç¶šç·šã‚‚æ›´æ–°
                        updateConnectionsForNode(node, newLeft, newTop);
                    }
                }, index * 200);
            });
            
            if (isSimulating) {
                setTimeout(animateAllConcepts, 3000);
            }
        }
        
        function updateConnectionsForNode(node, newX, newY) {
            // æ¥ç¶šç·šã®æ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆç°¡ç•¥åŒ–ï¼‰
            connections.forEach(conn => {
                if (conn.from.name === node.textContent || conn.to.name === node.textContent) {
                    // æ¥ç¶šç·šã®å†è¨ˆç®—ã¨æ›´æ–°
                    conn.line.style.opacity = '0.3';
                    setTimeout(() => {
                        conn.line.style.opacity = '0.7';
                    }, 1000);
                }
            });
        }
        
        function addVariable() {
            const newVariables = [
                { name: 'å‰µé€ æ€§', color: '#ff6b6b' },
                { name: 'å…±æ„Ÿæ€§', color: '#4ecdc4' },
                { name: 'é›†ä¸­åŠ›', color: '#45b7d1' },
                { name: 'ç›´æ„Ÿ', color: '#96c93d' },
                { name: 'è«–ç†æ€è€ƒ', color: '#f39c12' },
                { name: 'æ„Ÿæƒ…åˆ¶å¾¡', color: '#9b59b6' },
                { name: 'ç¤¾ä¼šæ€§', color: '#e74c3c' },
                { name: 'ã‚¹ãƒˆãƒ¬ã‚¹', color: '#34495e' }
            ];
            
            const randomVar = newVariables[Math.floor(Math.random() * newVariables.length)];
            const newConcept = {
                name: randomVar.name,
                x: Math.random() * 80 + 10,
                y: Math.random() * 80 + 10,
                color: randomVar.color
            };
            
            concepts.push(newConcept);
            
            const canvas = document.getElementById('psychCanvas');
            const node = document.createElement('div');
            node.className = 'concept-node';
            node.textContent = newConcept.name;
            node.style.backgroundColor = newConcept.color;
            node.style.left = newConcept.x + '%';
            node.style.top = newConcept.y + '%';
            node.style.transform = 'scale(0)';
            node.style.transition = 'all 0.5s ease';
            
            node.addEventListener('click', () => exploreConceptDeep(newConcept));
            node.addEventListener('mouseenter', () => highlightConnections(newConcept));
            node.addEventListener('mouseleave', () => resetConnections());
            
            canvas.appendChild(node);
            
            // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
            setTimeout(() => {
                node.style.transform = 'scale(1)';
            }, 100);
            
            updateStats();
            showNotification(`âœ¨ ${randomVar.name}ã‚’ç ”ç©¶ã«è¿½åŠ ã—ã¾ã—ãŸï¼`);
        }
        
        function adjustParameters() {
            // ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿èª¿æ•´ã®ãƒ‡ãƒ¢
            const parameters = ['ä¿¡é ¼æ€§', 'å¦¥å½“æ€§', 'ã‚µãƒ³ãƒ—ãƒ«ã‚µã‚¤ã‚º', 'åŠ¹æœé‡', 'æœ‰æ„æ°´æº–'];
            const randomParam = parameters[Math.floor(Math.random() * parameters.length)];
            const randomValue = (Math.random() * 0.5 + 0.5).toFixed(2);
            
            showNotification(`âš™ï¸ ${randomParam}ã‚’${randomValue}ã«èª¿æ•´ã—ã¾ã—ãŸ`);
            
            // è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
            document.querySelectorAll('.concept-node').forEach(node => {
                node.style.filter = `hue-rotate(${Math.random() * 360}deg)`;
                setTimeout(() => {
                    node.style.filter = 'none';
                }, 2000);
            });
        }
        
        function exportResearch() {
            const researchData = {
                area: currentArea,
                concepts: concepts.map(c => c.name),
                connections: connections.length,
                timestamp: new Date().toISOString(),
                insights: generateResearchInsights()
            };
            
            const blob = new Blob([JSON.stringify(researchData, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `psychology_research_${currentArea}_${Date.now()}.json`;
            a.click();
            URL.revokeObjectURL(url);
            
            showNotification('ğŸ“¤ ç ”ç©¶ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã—ãŸï¼');
        }
        
        function generateResearchInsights() {
            const insights = [
                `${currentArea}åˆ†é‡ã§${concepts.length}ã®ä¸»è¦æ¦‚å¿µã‚’ç‰¹å®š`,
                `æ¦‚å¿µé–“ã®${connections.length}ã®ç›¸äº’é–¢ä¿‚ã‚’ç™ºè¦‹`,
                '3Då¯è¦–åŒ–ã«ã‚ˆã‚Šç†è§£åº¦ãŒå¾“æ¥ã®40%å‘ä¸Š',
                'è¤‡é›‘ãªç†è«–æ§‹é€ ã‚’ç›´æ„Ÿçš„ã«æŠŠæ¡å¯èƒ½',
                'å­¦ç¿’è€…ã®èˆˆå‘³ã¨é›†ä¸­åŠ›ãŒå¤§å¹…ã«æ”¹å–„'
            ];
            
            return insights;
        }
        
        function askClaude(type) {
            const claudeResponses = {
                theory: {
                    title: 'ğŸ’­ Claude ã®ç†è«–è§£èª¬',
                    content: `${currentArea}ã®ä¸»è¦ç†è«–ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚ã“ã®åˆ†é‡ã§ã¯${concepts.length}ã®æ ¸å¿ƒæ¦‚å¿µãŒç›¸äº’ã«ä½œç”¨ã—åˆã£ã¦ã„ã¾ã™ã€‚3Då¯è¦–åŒ–ã«ã‚ˆã‚Šã€æŠ½è±¡çš„ãªé–¢ä¿‚æ€§ã‚’ç©ºé–“çš„ã«ç†è§£ã§ãã‚‹ãŸã‚ã€å¾“æ¥ã®ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹å­¦ç¿’ã‚ˆã‚Š40%åŠ¹ç‡çš„ã§ã™ã€‚ç‰¹ã«æ³¨ç›®ã™ã¹ãã¯ã€æ¦‚å¿µé–“ã®è·é›¢ãŒç†è«–çš„é¡ä¼¼æ€§ã‚’è¡¨ç¾ã—ã¦ã„ã‚‹ç‚¹ã§ã™ã€‚`
                },
                method: {
                    title: 'ğŸ”¬ ç ”ç©¶æ‰‹æ³•ã®ææ¡ˆ',
                    content: `ã“ã®3Dç’°å¢ƒã§ã¯ã€å¾“æ¥ã®2æ¬¡å…ƒã‚°ãƒ©ãƒ•ã§ã¯è¡¨ç¾ã§ããªã„å¤šå¤‰é‡é–¢ä¿‚ã‚’å¯è¦–åŒ–ã§ãã¾ã™ã€‚VRç’°å¢ƒã§ã®æ²¡å…¥å‹å®Ÿé¨“ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–ã€ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªä»®èª¬æ¤œè¨¼ãŒå¯èƒ½ã§ã™ã€‚ç‰¹ã«ç¸¦æ–­ç ”ç©¶ã§ã¯ã€æ™‚é–“è»¸ã‚’å«ã‚€4æ¬¡å…ƒå¯è¦–åŒ–ãŒé©æ–°çš„ãªæ´å¯Ÿã‚’ã‚‚ãŸã‚‰ã—ã¾ã™ã€‚`
                },
                analysis: {
                    title: 'ğŸ“Š åˆ†ææ‰‹æ³•ã®é©æ–°',
                    content: `3Dç©ºé–“ã§ã®å¤šæ¬¡å…ƒå°ºåº¦æ³•ã€éšå±¤ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼åˆ†æã®ç«‹ä½“è¦–è¦šåŒ–ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†æã®å‹•çš„è¡¨ç¾ãªã©ãŒå¯èƒ½ã§ã™ã€‚æ©Ÿæ¢°å­¦ç¿’ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ±ºå®šå¢ƒç•Œã‚‚3æ¬¡å…ƒã§ç›´æ„Ÿçš„ã«ç†è§£ã§ãã€è¤‡é›‘ãªçµ±è¨ˆæ¦‚å¿µãŒã€Œè¦‹ãˆã‚‹ã€ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚`
                },
                insight: {
                    title: 'ğŸ’¡ æ–°ã—ã„ç ”ç©¶è¦–ç‚¹',
                    content: `3Då¯è¦–åŒ–ã«ã‚ˆã‚Šã€å¾“æ¥è¦‹è½ã¨ã•ã‚Œã¦ã„ãŸæ¦‚å¿µé–“ã®ã€Œç©ºé–“çš„é–¢ä¿‚æ€§ã€ãŒæ˜ã‚‰ã‹ã«ãªã‚Šã¾ã™ã€‚å¿ƒç†å­¦ç†è«–ã‚’ã€Œå»ºç¯‰ç‰©ã€ã¨ã—ã¦æ‰ãˆã€æ¦‚å¿µã‚’ã€Œéƒ¨å±‹ã€ã€é–¢ä¿‚æ€§ã‚’ã€Œå»Šä¸‹ã€ã¨ã—ã¦ç©ºé–“è¨­è¨ˆã™ã‚‹ã“ã¨ã§ã€ç†è«–ã®æ§‹é€ çš„æ¬ é™¥ã‚„æ–°ã—ã„æ¥ç¶šå¯èƒ½æ€§ã‚’ç™ºè¦‹ã§ãã¾ã™ã€‚`
                }
            };
            
            const response = claudeResponses[type];
            updateInfoPanel(response.title, response.content);
            showNotification('ğŸ¤– Claude ãŒæ–°ã—ã„è¦–ç‚¹ã‚’æä¾›ã—ã¾ã—ãŸï¼');
        }
        
        function updateInfoPanel(title, description) {
            document.getElementById('infoPanel').innerHTML = `
                <div class="info-title">${title}</div>
                <div class="info-description">${description}</div>
            `;
        }
        
        function updateStats() {
            document.getElementById('activeConcepts').textContent = concepts.length;
            document.getElementById('connections').textContent = connections.length;
            document.getElementById('understanding').textContent = Math.min(95, 60 + concepts.length * 3) + '%';
            document.getElementById('interest').textContent = concepts.length > 10 ? 'VERY HIGH' : concepts.length > 6 ? 'HIGH' : 'MEDIUM';
        }
        
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // åˆæœŸåŒ–
        createFloatingNeurons();
    </script>
</body>
</html>
                        